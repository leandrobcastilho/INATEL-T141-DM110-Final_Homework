//network-ear
apply plugin: 'ear' 

dependencies {  
	deploy project(path: ':network-war', configuration: 'archives')  
	deploy project(path: ':network-ejb')
	earlib project(':network-api') 
	earlib project(':network-impl') 	
	earlib project(':network-ejb-client') 
} 

ear {  
	deploymentDescriptor {   
		def warName = project(':network-war').name   
		def warVersion = project(':network-war').version   
		def warFileName = warName + '-' + warVersion + '.war'   
		webModule(warFileName, 'network') 
   
		def ejbName = project(':network-ejb').name   
		def ejbVersion = project(':network-ejb').version   
		def ejbFileName = ejbName + '-' + ejbVersion + '.jar'   
		module(ejbFileName, 'ejb')  
	} 
}